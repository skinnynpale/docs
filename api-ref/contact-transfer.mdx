---
title: "Передача контактов"
description: "Настройка и использование интеграции контактов для автоматической загрузки в колл-листы"
---

Sasha AI предоставляет возможность автоматической загрузки контактов в колл-листы через API интеграции. Это позволяет разработчикам настроить автоматическую передачу данных контактов из внешних систем (AmoCRM, Bitrix, API, и т.п.)

## Типы интеграций

В системе поддерживаются два типа интеграций:

<Cards>
  <Card title="API (Webhook)" icon="webhook">
    Стандартный webhook для передачи контактов через HTTP POST запросы
  </Card>
  <Card title="DMP" icon="database">
    Интеграция с DMP системами для автоматической передачи контактов
  </Card>
</Cards>

## Создание интеграции

<Steps>
  <Step title="Выбор колл-листа">
    В интерфейсе платформы выберите колл-лист
  </Step>
  <Step title="Создание интеграции">
    Нажмите "Создать интеграцию"
  </Step>
  <Step title="Заполнение полей">
    Заполните необходимые поля:
    - Название
    - Описание (опционально)  
    - Тип интеграции (API или DMP)
  </Step>
  <Step title="Получение URL">
    После создания вы получите уникальный webhook URL
  </Step>
</Steps>

## Ограничения

<Warning>
**Важные ограничения:**
- Максимальное количество интеграций для одной организации: **5**
- Webhook URL является конфиденциальной информацией, не передавайте его третьим лицам
</Warning>

## API интеграция (Webhook)

### Webhook URL

После создания интеграции вы получите URL в формате:

```
https://{домен}/api/upload-contacts-integrations/webhook/{webhookToken}
```

### Формат данных

Отправляйте данные в формате JSON, поддерживаются как одиночные объекты, так и массивы:

```json
[
  {
    "phone": "79001234567",
    "tags": ["тег1", "тег2"],
    "additionalFields": {
      "client_name": "Иван",
      "age": 30,
      "other_info": "значение"
    }
  }
]
```

### Обязательные поля

<Fields>
  <Field field="phone" type="string" required>
    Номер телефона (обязательное поле)
  </Field>
  <Field field="tags" type="array">
    Массив тегов (опционально)
  </Field>
  <Field field="additionalFields" type="object">
    Дополнительная информация о контакте (опционально)
  </Field>
</Fields>

### Пример запроса

```bash
curl -X POST \
  https://example.com/api/upload-contacts-integrations/webhook/ваш-токен \
  -H 'Content-Type: application/json' \
  -d '[
    {
      "phone": "79001234567",
      "tags": ["лид", "сайт"],
      "additionalFields": {
        "источник": "реклама",
        "utm_source": "google"
      }
    }
  ]'
```

## DMP интеграция

### Формат данных

Для DMP интеграции обрабатывается специальный формат данных:

```json
[
  {
    "phone": "79001234567",
    "website": "example.com",
    "другие_поля": "значения"
  }
]
```

### Обязательные поля

<Fields>
  <Field field="phone" type="string" required>
    Номер телефона (обязательное поле)
  </Field>
  <Field field="website" type="string">
    Сайт источник (опционально, конвертируется в тег)
  </Field>
</Fields>

## Обработка ошибок

Возможные HTTP коды ответов:

<AccordionGroup>
  <Accordion title="200 OK">
    Успешная обработка запроса
  </Accordion>
  <Accordion title="400 Bad Request">
    Некорректные данные (например, отсутствует обязательное поле)
  </Accordion>
  <Accordion title="404 Not Found">
    Интеграция не найдена (неверный токен)
  </Accordion>
  <Accordion title="403 Forbidden">
    Интеграция неактивна
  </Accordion>
</AccordionGroup>

## Дополнительная информация

<Info>
Все контакты, загруженные через интеграцию, привязываются к соответствующему колл-листу
</Info>

### Технические ограничения

<Tip>
**Важные моменты:**
- Уникальные контакты определяются по номеру телефона
- Дубликаты не добавляются  
- При отправке большого количества контактов рекомендуется разбивать запросы на части до 1000 записей
</Tip> 